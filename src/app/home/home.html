<div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar__header">
      <div class="logo-container">
        <div class="logo-icon">
          <img src="/tamil-nadu-logo.png" alt="TN Logo">
        </div>
        <div class="logo-text-group">
          <h1 class="logo-title">Checkpost MIS</h1>
          <p class="logo-subtitle">TNFD Internal Apps</p>
        </div>
      </div>
    </div>

    <nav class="sidebar__nav">
      <div class="nav-group">
        <a routerLink="/home" routerLinkActive="active" class="nav-item">
          <i class="pi pi-chart-line"></i>
          <span>Dashboard</span>
        </a>
        <a class="nav-item">
          <i class="pi pi-truck"></i>
          <span>Vehicles</span>
        </a>
        <a class="nav-item">
          <i class="pi pi-file"></i>
          <span>Reports</span>
        </a>
      </div>
    </nav>

    <div class="sidebar__footer">
      <div class="user-info-row">
        <span class="user-welcome">Welcome, {{ auth.user()?.name || auth.user()?.email }}</span>
        <button (click)="auth.logout()" class="logout-btn" [disabled]="auth.isLoading()">
          <i class="pi pi-sign-out"></i>
          <span>Logout</span>
        </button>
      </div>
    </div>
  </aside>

  <main class="content">
    <router-outlet></router-outlet>
    
    <!-- Fallback if no child route is active yet -->
    <div class="content-body" *ngIf="!hasChildRoute()">
      <div class="content-header">
        <h1>Dashboard Overview</h1>
      </div>
    </div>
  </main>
</div>
