<div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar__header">
      <div class="logo-container">
        <div class="logo-icon">
          <img ngSrc="/tamil-nadu-logo.png" alt="TN Logo" width="24" height="24" priority>
        </div>
        <div class="logo-text-group">
          <h1 class="logo-title">Checkpost MIS</h1>
          <p class="logo-subtitle">TNFD Internal Apps</p>
        </div>
      </div>
    </div>

    <nav class="sidebar__nav">
      <div class="nav-group">
        <a routerLink="/home" [routerLinkActiveOptions]="{exact: true}" routerLinkActive="active" class="nav-item">
          <i class="pi pi-chart-line"></i>
          <span>Dashboard</span>
        </a>
        @if (auth.isAdmin() || auth.hasCircleAccess()) {
          <a routerLink="/home/checkposts" routerLinkActive="active" class="nav-item">
            <i class="pi pi-list"></i>
            <span>Checkposts</span>
          </a>
        }
        @if (auth.isAdmin()) {
          <a routerLink="/home/seized-items" routerLinkActive="active" class="nav-item">
            <i class="pi pi-box"></i>
            <span>Seized Items</span>
          </a>
          <a routerLink="/home/add" routerLinkActive="active" class="nav-item">
            <i class="pi pi-plus-circle"></i>
            <span>Add Checkpost</span>
          </a>
          <a routerLink="/home/users" routerLinkActive="active" class="nav-item">
            <i class="pi pi-users"></i>
            <span>Users</span>
          </a>
        }
      </div>
      <div class="nav-group">
        <a routerLink="/home/profile" routerLinkActive="active" class="nav-item">
          <i class="pi pi-user"></i>
          <span>Profile</span>
        </a>
      </div>
    </nav>

    <div class="sidebar__footer">
      <div class="user-info-row">
        <span class="user-welcome">Welcome, {{ auth.user()?.name || auth.user()?.email }}</span>
        <button (click)="auth.logout()" class="logout-btn" [disabled]="auth.isLoading()">
          <i class="pi pi-sign-out"></i>
          <span>Logout</span>
        </button>
      </div>
    </div>
  </aside>

  <main class="content">
    <router-outlet></router-outlet>
  </main>
</div>
